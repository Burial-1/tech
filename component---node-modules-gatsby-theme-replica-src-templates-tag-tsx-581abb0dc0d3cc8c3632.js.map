{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-replica/src/templates/tag.tsx","webpack:///./node_modules/gatsby-theme-replica/src/components/PostList.tsx","webpack:///./node_modules/gatsby-theme-replica/src/utils/date.ts","webpack:///./node_modules/gatsby-theme-replica/src/components/Tag.tsx"],"names":["query","TagTemplate","pageContext","data","tag","posts","allMdx","nodes","mode","LayoutMode","NavTab","PostList","map","post","key","id","className","to","fields","slug","frontmatter","title","excerpt","tags","data-date","date","getDateString","size","Date","toLocaleDateString","timeZone","process","TZ","format","month","day","getRelativeTimeFromNow","diff","now","getTime","min","hour","week","year","keys","unit","i","length","num","Math","ceil","Tag","count","url","slugify"],"mappings":"8FACA,0GAOaA,EAAQ,aA+CNC,UAbgB,SAAC,GAA0B,IAAxBC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KACrCC,EAAQF,EAARE,IACFC,EAAQF,EAAKG,OAAOC,MAC1B,OACE,kBAAC,IAAD,CAAQC,KAAMC,IAAWC,QACvB,6BACE,kBAAC,IAAD,CAAKN,IAAKA,KAEZ,kBAAC,IAAD,CAAUC,MAAOA,O,kCClDvB,yEAgDeM,IApCa,SAAC,GAAc,IAAZN,EAAY,EAAZA,MAC7B,OACE,4BACGA,aADH,EACGA,EAAOO,KAAI,SAACC,GAAD,eACV,wBAAIC,IAAKD,EAAKE,GAAIC,UAAS,sBACzB,yBAAKA,UAAU,WACb,wBAAIA,UAAU,8BACZ,kBAAC,IAAD,CAAMC,GAAIJ,EAAKK,OAAOC,MAAON,EAAKO,YAAYC,MAA9C,MAEF,uBAAGL,UAAU,+BAA+BH,EAAKS,SACjD,yBAAKN,UAAS,QAAd,UACGH,EAAKO,mBADR,iBACG,EAAkBG,YADrB,aACG,EAAwBX,KACvB,SAACR,GAAD,OAASA,GAAO,kBAAC,IAAD,CAAKA,IAAKA,EAAKU,IAAKV,QAGxC,yBAAKY,UAAU,0BAAf,YACY,IACV,0BAAMQ,YAAWX,EAAKO,YAAYK,MAC/BC,YAAcb,EAAKO,YAAYK,SAItC,yBAAKT,UAAU,wCACb,yBACEA,UAAS,mFAET,kBAAC,IAAD,CAAQW,KAAM,KACd,0BAAMX,UAAS,QAAf,iB,kCCvCd,sGAEO,IAAMU,EAAgB,SAACD,GAAD,OAC3B,IAAIG,KAAKH,GAAMI,mBAAmB,QAAS,CACzCC,SAAUC,GAAYC,IAAM,SAGnBC,EAAS,SAACR,GAAD,OACpB,IAAIG,KAAKH,GAAMI,mBAAmB,QAAS,CACzCC,SAAUC,GAAYC,IAAM,MAC5BE,MAAO,QACPC,IAAK,aAGIC,EAAyB,SAACX,GAuBrC,IAtBA,IAEMU,EAAM,MAONE,EAFMT,KAAKU,MACN,IAAIV,KAAKH,GAAMc,UAGpB3B,EAA8B,CAClC4B,IAZU,IAaVC,KAZWD,KAaXL,MACAO,KAZW,OAaXR,MAZY,OAaZS,KAZWR,SAePS,EAAO,CAAC,MAAO,OAAQ,MAAO,OAAQ,QAAS,QACjDC,EAAOD,EAAK,GACPE,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAG/B,GAAIT,EAAOzB,EAFXiC,EAAOD,EAAKE,IAEU,CACpB,GAAU,IAANA,EACF,MAAO,WAEPD,EAAOD,EAAKE,EAAI,GAElB,MAIJ,IAAME,EAAMC,KAAKC,KAAKb,EAAOzB,EAAIiC,IAAS,EAC1C,OAAUG,EAAV,IAAiBH,GAAOG,EAAM,EAAI,IAAM,IAAxC,S,kCCnDF,iDAmBeG,IATW,SAAC,GAAmB,IAAjB/C,EAAiB,EAAjBA,IAAKgD,EAAY,EAAZA,MAC1BC,EAAM,QAAQC,kBAAQlD,GAC5B,OACE,kBAAC,IAAD,CAAMa,GAAIoC,EAAKrC,UAAS,aACrBZ,EADH,IACQ,0BAAMY,UAAS,iBAAoBoC","file":"component---node-modules-gatsby-theme-replica-src-templates-tag-tsx-581abb0dc0d3cc8c3632.js","sourcesContent":["import { graphql } from 'gatsby';\nimport React, { FC } from 'react';\n\nimport Layout, { LayoutMode } from '../components/Layout';\nimport PostList from '../components/PostList';\nimport Tag from '../components/Tag';\nimport { PostNode } from '../types/post';\n\nexport const query = graphql`\n  query TagPostsQuery($tag: String!) {\n    allMdx(\n      filter: { slug: { ne: \"README\" }, frontmatter: { tags: { eq: $tag } } }\n      sort: { order: DESC, fields: frontmatter___date }\n    ) {\n      nodes {\n        id\n        excerpt(pruneLength: 200)\n        frontmatter {\n          title\n          date\n          tags\n        }\n        fields {\n          slug\n        }\n        slug\n      }\n    }\n  }\n`;\n\ninterface Props {\n  pageContext: {\n    tag: string;\n  };\n  data: {\n    allMdx: {\n      nodes: PostNode[];\n    };\n  };\n}\n\nconst TagTemplate: FC<Props> = ({ pageContext, data }) => {\n  const { tag } = pageContext;\n  const posts = data.allMdx.nodes;\n  return (\n    <Layout mode={LayoutMode.NavTab}>\n      <div>\n        <Tag tag={tag} />\n      </div>\n      <PostList posts={posts} />\n    </Layout>\n  );\n};\n\nexport default TagTemplate;\n","import { Link } from 'gatsby';\nimport React, { FC } from 'react';\nimport { FiStar } from 'react-icons/fi';\n\nimport { PostNode } from '../types/post';\nimport { getDateString } from '../utils/date';\nimport Tag from './Tag';\n\ninterface Props {\n  posts: PostNode[];\n}\n\nconst PostList: FC<Props> = ({ posts }) => {\n  return (\n    <ul>\n      {posts?.map((post) => (\n        <li key={post.id} className={`py-6 border-b flex`}>\n          <div className='w-10/12'>\n            <h3 className='mb-1 font-semibold text-lg'>\n              <Link to={post.fields.slug}>{post.frontmatter.title} </Link>\n            </h3>\n            <p className='my-2 text-sm text-gray-main'>{post.excerpt}</p>\n            <div className={`py-1`}>\n              {post.frontmatter?.tags?.map(\n                (tag) => tag && <Tag tag={tag} key={tag} />\n              )}\n            </div>\n            <div className='text-xs text-gray-main'>\n              Posted on{' '}\n              <time data-date={post.frontmatter.date}>\n                {getDateString(post.frontmatter.date)}\n              </time>\n            </div>\n          </div>\n          <div className='w-2/12 flex items-center justify-end'>\n            <div\n              className={`text-xs px-3 py-1 border bg-gray-100 rounded-md font-semibold flex items-center`}\n            >\n              <FiStar size={16} />\n              <span className={`pl-1`}>star</span>\n            </div>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default PostList;\n","// yyyy-MM-dd\ntype InputDate = Date | string | number;\nexport const getDateString = (date: InputDate) =>\n  new Date(date).toLocaleDateString('fr-CA', {\n    timeZone: process.env.TZ || 'UTC',\n  });\n\nexport const format = (date: InputDate) =>\n  new Date(date).toLocaleDateString('en-US', {\n    timeZone: process.env.TZ || 'UTC',\n    month: 'short',\n    day: 'numeric',\n  });\n\nexport const getRelativeTimeFromNow = (date: InputDate) => {\n  const min = 60 * 1000;\n  const hour = min * 60;\n  const day = 24 * hour;\n  const week = 7 * day;\n  const month = 30 * day;\n  const year = day * 365;\n\n  const now = Date.now();\n  const ts = new Date(date).getTime();\n  const diff = now - ts;\n\n  const map: Record<string, number> = {\n    min,\n    hour,\n    day,\n    week,\n    month,\n    year,\n  };\n\n  const keys = ['min', 'hour', 'day', 'week', 'month', 'year'];\n  let unit = keys[0];\n  for (let i = 0; i < keys.length; i++) {\n    unit = keys[i];\n\n    if (diff < map[unit]) {\n      if (i === 0) {\n        return 'Just now';\n      } else {\n        unit = keys[i - 1];\n      }\n      break;\n    }\n  }\n\n  const num = Math.ceil(diff / map[unit]) - 1;\n  return `${num} ${unit}${num > 1 ? 's' : ''} ago`;\n};\n","import { Link } from 'gatsby';\nimport React, { FC } from 'react';\n\nimport { slugify } from '../utils/slugify';\n\ninterface TagProps {\n  tag: string;\n  count?: number;\n}\n\nconst Tag: FC<TagProps> = ({ tag, count }) => {\n  const url = `/tag/${slugify(tag)}`;\n  return (\n    <Link to={url} className={`topic-tag`}>\n      {tag} <span className={`font-semibold`}>{count}</span>\n    </Link>\n  );\n};\n\nexport default Tag;\n"],"sourceRoot":""}