{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-replica/src/templates/categories.tsx"],"names":["query","CategoriesTemplate","data","categories","Object","entries","allMdx","nodes","reduce","acc","posts","category","frontmatter","count","mode","LayoutMode","NavTab","map","key","to","slugify"],"mappings":"4FAAA,0GAMaA,EAAQ,aAkDNC,UA1BuB,SAAC,GAAa,IAAXC,EAAW,EAAXA,KAGjCC,EAAaC,OAAOC,QACxBH,EAAKI,OAAOC,MAAMC,QAA+B,SAACC,EAAKC,GACrD,IAAMC,EAAWD,EAAME,YAAYD,SAC7BE,EAAQJ,EAAIE,IAAa,EAE/B,OADAF,EAAIE,GAAYE,EAAQ,EACjBJ,IACN,KAEL,OACE,kBAAC,IAAD,CAAQK,KAAMC,IAAWC,QACvB,4BACGb,EAAWc,KAAI,gBAAEN,EAAF,KAAYE,EAAZ,YACd,wBAAIK,IAAKP,GACP,kBAAC,IAAD,CAAMQ,GAAE,aAAeC,kBAAQT,IAC5BA,EADH,KACeE,EADf","file":"component---node-modules-gatsby-theme-replica-src-templates-categories-tsx-ae69828df008479bc7ee.js","sourcesContent":["import { Link, graphql } from 'gatsby';\nimport React, { FC } from 'react';\n\nimport Layout, { LayoutMode } from '../components/Layout';\nimport { slugify } from '../utils/slugify';\n\nexport const query = graphql`\n  query CategoryListQuery {\n    allMdx(filter: { slug: { ne: \"README\" } }) {\n      nodes {\n        frontmatter {\n          category\n        }\n      }\n    }\n  }\n`;\n\ninterface Props {\n  data: {\n    allMdx: {\n      nodes: {\n        frontmatter: {\n          category: string;\n        };\n      }[];\n    };\n  };\n}\n\nconst CategoriesTemplate: FC<Props> = ({ data }) => {\n  // todo allow sort by alphabet & count\n  // todo category slugify\n  const categories = Object.entries(\n    data.allMdx.nodes.reduce<Record<string, number>>((acc, posts) => {\n      const category = posts.frontmatter.category;\n      const count = acc[category] || 0;\n      acc[category] = count + 1;\n      return acc;\n    }, {})\n  );\n  return (\n    <Layout mode={LayoutMode.NavTab}>\n      <ul>\n        {categories.map(([category, count]) => (\n          <li key={category}>\n            <Link to={`/category/${slugify(category)}`}>\n              {category} ({count})\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </Layout>\n  );\n};\n\nexport default CategoriesTemplate;\n"],"sourceRoot":""}