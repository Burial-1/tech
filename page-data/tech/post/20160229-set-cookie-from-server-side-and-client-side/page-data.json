{"componentChunkName":"component---node-modules-gatsby-theme-replica-src-templates-post-tsx","path":"/tech/post/20160229-set-cookie-from-server-side-and-client-side/","result":{"data":{"post":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Cookie在前端和后端的设置\",\n  \"date\": \"2016-02-29T06:04:57.000Z\",\n  \"tags\": [\"cookie\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"http \\u534F\\u8BAE\\u4EC0\\u4E48\\u7684\\uFF0C\\u4E0D\\u77E5\\u9053\\u8DDF\\u901A\\u4FE1\\u6709\\u6CA1\\u6709\\u5173\\u7CFB\\u2026\\u4F5C\\u4E3A\\u4E00\\u4E2A\\u901A\\u4FE1\\u79D1\\u73ED\\u51FA\\u8EAB\\u7684\\u786C\", mdx(\"del\", {\n    \"parentName\": \"p\"\n  }, \"\\u6C49\"), \"\\u59B9\\uFF0C\\u5BF9\\u5404\\u79CD\\u534F\\u8BAE\\u57FA\\u672C\\u4E0A\\u53EA\\u80FD\\u8BF4\\u51FA\\u540D\\u5B57\\uFF0C\\u522B\\u7684\\u4E00\\u7A8D\\u4E0D\\u901A=\\uFF0C= \\u6240\\u4EE5\\u5F53\\u6211\\u77E5\\u9053 cookie \\u539F\\u6765\\u662F\\u5728 header \\u91CC\\u7684\\u65F6\\u5019\\uFF0C\\u5F53\\u65F6\\u6211\\u5C31\\u9707\\u60CA\\u4E86\\u2026\"), mdx(\"p\", null, \"\\u5728\\u670D\\u52A1\\u5668\\u7AEF\\uFF0C\\u5404\\u79CD\\u6846\\u67B6\\u90FD\\u5DF2\\u7ECF\\u5305\\u88C5\\u597D\\u4E86\\u65B9\\u4FBF\\u8BBE\\u7F6E cookie \\u7684\\u65B9\\u6CD5\\uFF0C\\u6BD4\\u5982 nodejs \\u7684 express\\uFF0Cphp \\u7684 codeignitor\\u3001laravel\\uFF08\\u6211\\u5C45\\u7136\\u90FD\\u88AB\\u8FEB\\u5199\\u8FC7 php \\u4E86\\uFF0C\\u771F\\u662F\\u903C\\u826F\\u4E3A\\u5A3C\\u2026\\uFF09\"), mdx(\"p\", null, \"\\u4E3A\\u4EC0\\u4E48\\u8981\\u4E86\\u89E3\\u8BBE\\u7F6E cookie \\u7684\\u539F\\u7406\\u5462\\uFF1F\\u4E86\\u89E3\\u4E86\\u624D\\u80FD\\u5728\\u67D0\\u4E9B\\u65F6\\u5019\\u7528\\u6700\\u539F\\u59CB\\u7684\\u65B9\\u6CD5\\u6765\\u8BBE\\u7F6E cookie\\uFF0C\\u6BD4\\u5982\\u6CA1\\u6709\\u6846\\u67B6\\u53EF\\u7528\\u7684\\u65F6\\u5019\\uFF0C\\u4EE5\\u53CA\\u6846\\u67B6\\u63D0\\u4F9B\\u7684\\u65B9\\u6CD5\\u4E0D\\u9002\\u7528\\u4E8E\\u67D0\\u4E9B\\u573A\\u666F\\u7684\\u65F6\\u5019\\u3002\\n\\u6211\\u662F\\u5728\\u4F7F\\u7528 laravel \\u8BBE\\u7F6E cookie \\u7684\\u65F6\\u5019\\u8E29\\u4E86\\u5751\\uFF0C\\u73B0\\u5728\\u7684\\u9879\\u76EE\\u91CC\\u56E0\\u4E3A\\u8981\\u914D\\u5408\\u4F7F\\u7528 GTM\\uFF08google tag manager\\uFF09\\uFF0C\\u6240\\u4EE5 cookie \\u662F\\u4E0D\\u52A0\\u5BC6\\u7684 raw data\\uFF0C\\u4F46\\u901A\\u8FC7 laravel \\u8BBE\\u7F6E\\u7684 cookie \\u90FD\\u662F\\u52A0\\u5BC6\\u4E86\\u7684\\u3002\\u4E8E\\u662F\\u53EA\\u80FD\\u5B66\\u4E60 PHP \\u539F\\u751F\\u7684\\u6DFB\\u52A0 cookie \\u65B9\\u6CD5\\u3002\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"setcookie(NAME, VALUE, EXPIRES)\")), mdx(\"p\", null, \"\\u53E6\\u5916\\u5C31\\u662F\\u56E0\\u4E3A\\u7528 AWS API Gateway \\u65F6\\u5019\\u7684\\u4E00\\u4E9B\\u9700\\u6C42\\uFF0C\\u60F3\\u8981\\u901A\\u8FC7 gateway \\u76F4\\u63A5\\u8BBE\\u7F6E cookie\\uFF0C\\u8FD9\\u4E2A\\u65F6\\u5019\\u5C31\\u4E0D\\u5F97\\u4E0D\\u4E86\\u89E3 http cookie \\u7684\\u8FD0\\u4F5C\\u65B9\\u5F0F\\u3002\"), mdx(\"h3\", null, \"response cookie \\u4ECE\\u670D\\u52A1\\u5668\\u7AEF\\u8FD4\\u56DE\\u65B0 cookie\"), mdx(\"p\", null, \"\\u8BBE\\u7F6E cookie \\u662F\\u901A\\u8FC7\\u5728\\u54CD\\u5E94\\u7684\\u5934\\u90E8\\u52A0\\u5165\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Set-Cookie\"), \"\\u6765\\u8BBE\\u7F6E\\u7684\\uFF0C\"), mdx(\"blockquote\", null, mdx(\"ul\", {\n    \"parentName\": \"blockquote\"\n  }, mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"\\u4E00\\u4E2A\\u8BF7\\u6C42\\u901A\\u5E38\\u5305\\u542B header \\u548C body\"))), mdx(\"ul\", null, mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"\\u4E0E\\u8BF7\\u6C42\\u6709\\u5173\\u7684 cookie \\u5206\\u4E3A request cookie \\u548C response cookie\", mdx(\"ul\", {\n    \"parentName\": \"li\"\n  }, mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"request cookie \\u662F\\u6D4F\\u89C8\\u5668\\u5DF2\\u50A8\\u5B58\\u7684 cookie\"), mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"response cookie \\u662F\\u670D\\u52A1\\u5668\\u7AEF\\u8FD4\\u56DE\\u7684\\u65B0\\u7684 cookie\\uFF0C\\u4E5F\\u5C31\\u662F\\u5C06\\u4F1A\\u50A8\\u5B58\\u5728\\u6D4F\\u89C8\\u5668\\u7AEF\\u7684\\u65B0 cookie\")))), mdx(\"h4\", null, \"\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684 cookie header\"), mdx(\"p\", null, \"\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684 cookie \\u5934\\u957F\\u8FD9\\u6837\"), mdx(\"pre\", null, mdx(\"code\", {\n    \"parentName\": \"pre\"\n  }, \"Set-Cookie: NAME=VALUE; expires=DATE; path=PATH; domain=DOMAIN\\n\")), mdx(\"p\", null, \"NAME VALUE \\u662F\\u4E00\\u5BF9\\u952E\\u503C\\nexpires \\u662F\\u8FC7\\u671F\\u65E5\\u671F\\uFF0C\\u901A\\u5E38\\u7528\\u5F53\\u524D\\u65F6\\u95F4\\u7684\\u6BEB\\u79D2\\u6570\\u52A0\\u4E0A\\u4E00\\u6BB5\\u65F6\\u95F4\\uFF1A\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"new Date().getTime()+30*24*60*60*1000)\"), \"\\uFF0C\\u7136\\u540E\", mdx(\"strong\", {\n    \"parentName\": \"p\"\n  }, \"\\u9700\\u8981\\u8C03\\u7528\", mdx(\"inlineCode\", {\n    \"parentName\": \"strong\"\n  }, \"toUTCString()\"), \"\\u65B9\\u6CD5\"), \"\\n\\u5982\\u679C\\u4E0D\\u8BBE\\u7F6E expires\\uFF0C\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u8FD9\\u4E2A cookie \\u5C06\\u88AB\\u5F53\\u505A session \\u5BF9\\u5F85\\uFF0C\\u4E5F\\u5C31\\u662F\\u5173\\u95ED\\u4E86\\u6D4F\\u89C8\\u5668 cookie \\u5C31\\u6D88\\u5931\\npath \\u548C domain \\u8FD9\\u4E2A\\u2026\\u611F\\u89C9\\u4E0D\\u592A\\u7528\\u5F97\\u5230\\uFF0C\\u5177\\u4F53\\u53EF\\u4EE5\\u770B\", mdx(\"a\", {\n    \"href\": \"http://blog.sina.com.cn/s/blog_70c4d9410100z3il.html\",\n    \"parentName\": \"p\"\n  }, \"\\u8FD9\\u7BC7\\u6587\\u7AE0\")), mdx(\"p\", null, \"\\u5982\\u679C\\u8981\\u540C\\u65F6\\u8BBE\\u7F6E\\u591A\\u4E2A cookie\\uFF0C\\u540C\\u65F6\\u8FD4\\u56DE\\u591A\\u4E2A\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Set-Cookie\"), \"\\u5934\\u5373\\u53EF\"), mdx(\"h4\", null, \"maxAge\"), mdx(\"p\", null, \"\\u6709\\u4E00\\u4E9B\\u670D\\u52A1\\u5668\\u7AEF\\u7684\\u6846\\u67B6\\u4F1A\\u63D0\\u4F9B maxAge \\u5C5E\\u6027\\u6765\\u8BBE\\u7F6E cookie \\u7684\\u8FC7\\u671F\\u65F6\\u95F4\\uFF0C\\u4F46\\u662F\\u539F\\u59CB\\u7684 Set-Cookie \\u5934\\u662F\\u4E0D\\u652F\\u6301 maxAge \\u7684\\uFF0C\\u6240\\u4EE5\\u5728\\u901A\\u8FC7\\u5934\\u90E8\\u6765\\u8BBE\\u7F6E cookie \\u8FD8\\u662F\\u4E56\\u4E56\\u7528\\u56DE expires \\u5427\"), mdx(\"h3\", null, \"\\u6D4F\\u89C8\\u5668\\u7AEF\\u8BFB\\u53D6 cookie\"), mdx(\"p\", null, \"JS \\u539F\\u751F\\u65B9\\u6CD5\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    \"className\": \"language-js\",\n    \"parentName\": \"pre\"\n  }, \"var cookies = document.cookie;\\n\")), mdx(\"p\", null, \"\\u8BFB\\u53D6\\u7684 cookie \\u662F\\u4E00\\u4E2A\\u5206\\u53F7\\u5206\\u9694\\u7684\\u5305\\u542B\\u6240\\u6709 cookie \\u952E\\u503C\\u5B57\\u7B26\\u4E32\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u6B63\\u5219\\u8868\\u8FBE\\u5F0F\\u6765\\u63D0\\u53D6\\u9700\\u8981\\u7684 cookie\"), mdx(\"pre\", null, mdx(\"code\", {\n    \"className\": \"language-js\",\n    \"parentName\": \"pre\"\n  }, \"var cookieA = document.cookie.replace(\\n  /(?:(?:^|.*;\\\\s*)cookieA\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$/,\\n  '$1'\\n);\\n\")), mdx(\"h3\", null, \"request cookie \\u6D4F\\u89C8\\u5668\\u7AEF\\u8BBE\\u7F6E cookie\"), mdx(\"pre\", null, mdx(\"code\", {\n    \"className\": \"language-js\",\n    \"parentName\": \"pre\"\n  }, \"document.cookie = 'cookie_example=123' + ';expires=' + expire + ';path=/';\\n\")), mdx(\"p\", null, \"\\u5982\\u679C\\u8981\\u8BBE\\u7F6E\\u591A\\u4E2A cookie\\uFF0C\\u591A\\u6B21\\u8C03\\u7528\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"document.cookie\"), \"\\u5373\\u53EF\"), mdx(\"h4\", null, \"document.cookie\"), mdx(\"p\", null, \"\\u8FD9\\u4E2A document \\u7684 behavior \\u6709\\u70B9\\u5947\\u602A\\uFF0C\\u660E\\u660E\\u8FD4\\u56DE\\u7684\\u662F\\u4E2A\\u5B57\\u7B26\\u4E32\\uFF0C\\u672C\\u6765\\u4EE5\\u4E3A\\u6BCF\\u6B21\\u8BBE\\u7F6E cookie \\u5F97\\u7528\\u65B0\\u7684\\u5B57\\u7B26\\u4E32\\u8FDE\\u63A5\\u65E7\\u7684\\u5B57\\u7B26\\u4E32\\uFF0C\\u4F46\\u5176\\u5B9E\\u76F4\\u63A5\\u7B49\\u4E8E\\u65B0\\u7684\\u503C\\u4E5F\\u5E76\\u4E0D\\u4F1A\\u8986\\u76D6\\u65E7\\u7684\\u503C\\uFF0C\\u4E0D\\u77E5\\u9053\\u5B9E\\u73B0\\u8FD9\\u4E2A\\u5C5E\\u6027&\\u65B9\\u6CD5\\u6DF7\\u7528\\u7684\\u539F\\u7406\\u662F\\u4EC0\\u4E48 0,0\"), mdx(\"p\", null, \"####NOTE\\n\\u901A\\u5E38\\u8BBE\\u7F6E cookie \\u7684\\u65F6\\u5019\\u90FD\\u4F1A\\u628A path \\u8BBE\\u7F6E\\u4E3A\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"/\"), \"\\uFF0C\\u8FD9\\u6837\\u540C\\u4E00\\u4E2A\\u57DF\\u540D\\u4E0B\\uFF0C\\u6240\\u6709\\u8DEF\\u5F84\\u90FD\\u5171\\u7528\\u4E00\\u4E2A cookie\\n\\u5982\\u679C\\u6CA1\\u6709\\u8BBE\\u7F6E path\\uFF0C\\u67D0\\u4E9B\\u6846\\u67B6\\u53EF\\u80FD\\u9ED8\\u8BA4\\u4F1A\\u4F7F\\u7528\\u521B\\u5EFA cookie \\u65F6\\u7684\\u8DEF\\u5F84\\u4F5C\\u4E3A path\\uFF0C\\u8FD9\\u6837\\u5C31\\u53EF\\u80FD\\u5B58\\u5728\\u591A\\u4E2A path \\u4E0D\\u540C\\u7684\\u540C\\u540D cookie\\u3002\"), mdx(\"p\", null, \"####\\u5DE5\\u5177\"), mdx(\"ul\", null, mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"\\u5728\\u6D4F\\u89C8\\u5668\\u7AEF\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528 chrome \\u7684\\u6269\\u5C55\", mdx(\"em\", {\n    \"parentName\": \"li\"\n  }, \"EditThisCookie\"), \"\\u6765\\u67E5\\u770B\\u548C\\u7F16\\u8F91 cookie\"), mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"\\u5982\\u679C\\u662F\\u4ECE\\u670D\\u52A1\\u5668\\u7AEF\\u5199\\u5165\\u7684 cookie\\uFF0C\\u53EF\\u4EE5\\u5728 F12 network \\u9009\\u9879\\u5361\\u4E2D\\u9009\\u4E2D\\u8BF7\\u6C42\\uFF0C\\u6709 cookie \\u7684\\u65F6\\u5019\\u4F1A\\u6709\\u4E00\\u4E2A cookie \\u9009\\u9879\\uFF0C\\u80FD\\u770B\\u5230 request cookie \\u548C response cookie\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"http 协议什么的，不知道跟通信有没有关系…作为一个通信科班出身的硬 汉 妹，对各种协议基本上只能说出名字，别的一窍不通=，= 所以当我知道 cookie 原来是在 header…","fields":{"slug":"/post/20160229-set-cookie-from-server-side-and-client-side/"},"frontmatter":{"date":"2016-02-29T06:04:57.000Z","title":"Cookie在前端和后端的设置","tags":["cookie"],"category":null},"tableOfContents":{"items":[{"url":"#response-cookie-从服务器端返回新-cookie","title":"response cookie 从服务器端返回新 cookie"},{"url":"#浏览器端读取-cookie","title":"浏览器端读取 cookie"},{"url":"#request-cookie-浏览器端设置-cookie","title":"request cookie 浏览器端设置 cookie"}]},"timeToRead":1}},"pageContext":{"postID":"b2c482e0-2d07-5b59-a9ac-d7e1fb0b0cfa","numericId":23,"prevPost":{"slug":"/post/20160217-using-jQuery-to-handle-CORS-with-jsonp/","title":"jQuery中利用JSONP进行跨域GET请求"},"nextPost":{"slug":"/post/20160307-aws-api-gateway-mapping-templates/","title":"AWS API Gateway Mapping Template 获取IP, header等"}}},"staticQueryHashes":["2873555300"]}