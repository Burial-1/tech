{"componentChunkName":"component---node-modules-gatsby-theme-replica-src-templates-post-tsx","path":"/2016/02/03/experiencing-google-map-js-api/","result":{"data":{"post":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"谷歌地图 Google Map API 初体验\",\n  \"date\": \"2016-02-03T10:32:51.000Z\",\n  \"tags\": [\"Google Map\", \"Google Map API\", \"谷歌地图API\", \"谷歌地图\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u4E00\\u76F4\\u90FD\\u60F3\\u628A\\u81EA\\u5DF1\\u53BB\\u8FC7\\u7684\\u5730\\u65B9\\u505A\\u4E2A\\u5730\\u56FE\\u6807\\u8BB0\\uFF0C\\u7136\\u800C\\u73B0\\u5728\\u80FD\\u627E\\u5230\\u7684\\u5404\\u79CD\\u73B0\\u6210\\u7684\\u5730\\u56FE\\u4EA7\\u54C1\\u90FD\\u4E0D\\u592A\\u559C\\u6B22\\uFF0C\\u6240\\u4EE5\\u5C31\\u7528\\u8C37\\u6B4C\\u5730\\u56FE\\u81EA\\u5DF1\\u5199\\u4E86\\u4E00\\u4E2A\\u3002\\n\\u603B\\u7ED3\\u4EE5\\u4E0B\\u5E38\\u89C1\\u7684\\u95EE\\u9898\\u548C\\u5751\\uFF1A\"), mdx(\"h3\", null, \"\\u81EA\\u52A8\\u7F29\\u653E(auto zoom)\"), mdx(\"p\", null, \"\\u4F7F\\u7528\\u573A\\u666F\\u5927\\u591A\\u6570\\u65F6\\u5019\\u662F\\u6709\\u5F88\\u591A marker\\uFF0C\\u60F3\\u8981\\u5168\\u90E8\\u663E\\u793A\\u8FD9\\u4E9B marker\\uFF0C\\u540C\\u65F6 zoom \\u5F53\\u7136\\u8D8A\\u5927\\u8D8A\\u6E05\\u6670\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"\\u9996\\u5148\\u9700\\u8981\\u4E00\\u4E2A marker \\u7684\\u4F4D\\u7F6E\\u5217\\u8868 \", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"markerList\"), \"\\uFF0C\\u5355\\u4E2A\\u5143\\u7D20\\u957F\\u8FD9\\u6837\", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"{lat:xxx,lng:xxx}\")), mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"\\u904D\\u5386\\u5217\\u8868\\uFF0C\\u628A\\u5143\\u7D20\\u4F20\\u5165\", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"google.maps.LatLngBounds\"), \"\\u5B9E\\u4F8B\\u7684\", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"extend\"), \"\\u65B9\\u6CD5\")), mdx(\"pre\", null, mdx(\"code\", {\n    \"className\": \"language-js\",\n    \"parentName\": \"pre\"\n  }, \"var latlngbounds = new google.maps.LatLngBounds();\\nmarkerList.forEach(function (item) {\\n  latlngbounds.extend(item);\\n});\\nmap.fitBounds(latlngbounds);\\n\")), mdx(\"p\", null, \"\\u7136\\u800C\\u8FD9\\u6709\\u4E00\\u4E2A\\u5F88\\u591A\\u4EBA\\u63D0\\u5230\\u7684\\u95EE\\u9898\\uFF0C\\u5C31\\u662F\\u7F29\\u653E\\u6548\\u679C\\u4E0D\\u5E73\\u6ED1\\u3002(smooth \\u8FD9\\u4E2A\\u8BCD\\uFF0C\\u6211\\u8FD8\\u662F\\u767E\\u5EA6\\u4E86 smooth scroll \\u624D\\u5199\\u7684\\u51FA\\u5B57\\u9762\\u610F\\u601D\\u6765\\uFF0C\\u6211\\u73B0\\u5728\\u4E2D\\u6587\\u662F\\u6709\\u591A\\u5DEE\\u2026)\\n\\u8FD9\\u4E2A\\u6682\\u65F6\\u6CA1\\u4EC0\\u4E48\\u89E3\\u51B3\\u65B9\\u6CD5\\uFF0CAPI \\u672C\\u8EAB\\u5C31\\u662F\\u8FD9\\u6837\\u7684\\u3002\\u636E\\u8BF4\\u8C37\\u6B4C\\u672C\\u8EAB\\u7684\\u5730\\u56FE\\u662F h5 \\u7684 canvas \\u7ED8\\u5236\\u7684\\uFF0C\\u4F46\\u901A\\u8FC7 API \\u751F\\u6210\\u7684\\u5730\\u56FE\\u4E0D\\u662F\\u540C\\u6837\\u7684\\u539F\\u7406\\u2026\\u8C37\\u6B4C\\u5C45\\u7136\\u81EA\\u5DF1\\u90FD\\u4E0D\\u7528\\u81EA\\u5DF1\\u7684 API \\u2026\"), mdx(\"p\", null, \"\\u53E6\\u4E00\\u4E2A\\u95EE\\u9898\\u662F\\uFF0C\\u7F29\\u653E\", mdx(\"strong\", {\n    \"parentName\": \"p\"\n  }, \"\\u592A\\u5927\\u529B\"), \"\\u600E\\u4E48\\u529E\\uFF1F\\u7B54\\u6848\\u662F\\uFF0C\\u5728\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"MapOptions\"), \"\\u4E2D\\u8BBE\\u7F6E\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"maxZoom\"), \"\\u503C\"), mdx(\"h3\", null, \"\\u52A8\\u753B\\u6548\\u679C\\u5207\\u6362\"), mdx(\"p\", null, \"API \\u63D0\\u4F9B\\u4E09\\u79CD\\u6548\\u679C\\uFF1A\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"BOUNCE\"), \" \", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"DROP\"), \" \", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"NULL\"), \"\\n\\u4F7F\\u7528\\u573A\\u666F\\u5927\\u591A\\u6570\\u65F6\\u5019\\u662F\\u5728 NULL \\u548C BOUNCE \\u4E4B\\u95F4\\u5207\\u6362\"), mdx(\"p\", null, \"\\u52A8\\u753B\\u6BD4\\u8F83\\u5751\\u7239\\u7684\\u662F\\uFF0C\\u6BCF\\u4E2A\\u52A8\\u753B\\u90FD\\u8981\\u6301\\u7EED 700ms\\uFF0C\\u4E4B\\u540E\\u624D\\u80FD\\u6539\\u53D8\\u72B6\\u6001\\u3002\"), mdx(\"p\", null, \"\\u6BD4\\u5982\\u8FD9\\u6837\\u4E00\\u4E2A\\u4F8B\\u5B50\\uFF1A\\u6709\\u4E24\\u7EC4 marker\\uFF0C\", mdx(\"strong\", {\n    \"parentName\": \"p\"\n  }, \"\\u6709\\u4EA4\\u96C6\"), \"\\u3002\\u60F3\\u8981\\u8BA9\\u7B2C\\u4E00\\u7EC4\\u5148 BOUNCE\\uFF0C\\u4E4B\\u540E\\u505C\\u6B62\\u7B2C\\u4E00\\u7EC4\\uFF0C\\u8BA9\\u7B2C\\u4E8C\\u7EC4 BOUNCE\\u3002\\u5F88\\u5BB9\\u6613\\u60F3\\u5230\\u7684\\u65B9\\u6CD5\\u662F\\uFF0C\\u901A\\u8FC7\\u904D\\u5386\\uFF0C\\u628A\\u7B2C\\u4E00\\u7EC4\\u7684\\u52A8\\u753B\\u5168\\u90E8\\u8BBE\\u7F6E\\u4E3A NULL\\uFF0C\\u518D\\u628A\\u7B2C\\u4E8C\\u7EC4\\u52A8\\u753B\\u5168\\u90E8\\u8BBE\\u7F6E\\u4E3A BOUNCE\\u3002\\u7136\\u800C\\u4EA4\\u96C6\\u7684\\u8FD9\\u4E00\\u90E8\\u5206\\u53EA\\u4F1A BOUNCE \\u4E00\\u6B21\\u7136\\u540E\\u5C31\\u505C\\u4E86\\u2026\\u56E0\\u4E3A\\u8BA1\\u7B97\\u901F\\u5EA6\\u5F88\\u5FEB\\uFF0C\\u4ECE NULL \\u5230 BOUNCE \\u4E0D\\u5230 700ms\\uFF0C\\u52A8\\u753B\\u5176\\u5B9E\\u8FD8\\u5904\\u4E8E NULL \\u72B6\\u6001\\u3002\"), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u53C2\\u8003\\u5B98\\u65B9\\u7684\\u8FD9\\u4E2A\\u4F8B\\u5B50\\uFF0C\", mdx(\"a\", {\n    \"href\": \"https://developers.google.com/maps/documentation/javascript/examples/marker-animations\",\n    \"parentName\": \"p\"\n  }, \"https://developers.google.com/maps/documentation/javascript/examples/marker-animations\"), \" \\uFF0C\\u5F53\\u4F60\\u53CC\\u51FB marker \\u7684\\u65F6\\u5019\\uFF0C\\u5176\\u5B9E\\u5C31\\u662F\\u6A21\\u62DF\\u4E86\\u5FEB\\u901F\\u5207\\u6362\\u72B6\\u6001\\uFF0C\\u4F46\\u52A8\\u753B\\u6548\\u679C\\u5E76\\u4E0D\\u5982\\u9884\\u671F\\u2026\"), mdx(\"p\", null, \"\\u89E3\\u51B3\\u65B9\\u6848\\uFF1A\\u6C42\\u5DEE\\u96C6\\uFF0C\\u4E5F\\u5C31\\u662F\\u628A\\u4EA4\\u96C6\\u7684\\u90E8\\u5206\\u53BB\\u6389\\uFF0C\\u5728\\u8BBE\\u7F6E\\u52A8\\u753B\\u4E3A NULL\"), mdx(\"h3\", null, \"\\u81EA\\u5B9A\\u4E49\\u5730\\u56FE\\u6837\\u5F0F\"), mdx(\"p\", null, mdx(\"a\", {\n    \"href\": \"https://snazzymaps.com/\",\n    \"parentName\": \"p\"\n  }, \"https://snazzymaps.com/\"), \" \\u8FD9\\u4E2A\\u7F51\\u7AD9\\u6709\\u5F88\\u591A\\u5DF2\\u7ECF\\u8BBE\\u8BA1\\u597D\\u7684\\u6837\\u5F0F\\uFF0C\\u9009\\u559C\\u6B22\\u7684\\u76F4\\u63A5\\u590D\\u5236\\u4EE3\\u7801\\u653E\\u5230\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"StyledMapType()\"), \"\\u65B9\\u6CD5\\u4E2D\\u5373\\u53EF\\uFF0C\\u7136\\u540E\\u7ED9\\u8FD9\\u4E2A\\u6837\\u5F0F\\u53D6\\u4E2A\\u540D\\u5B57\\uFF0C\\u4E0B\\u4F8B\\u4E2D\\u6211\\u4F7F\\u7528\\u4E86\", mdx(\"a\", {\n    \"href\": \"https://snazzymaps.com/style/134/light-dream\",\n    \"parentName\": \"p\"\n  }, \"light dream\"), \" \\u8FD9\\u4E2A\\u6837\\u5F0F\"), mdx(\"pre\", null, mdx(\"code\", {\n    \"className\": \"language-js\",\n    \"parentName\": \"pre\"\n  }, \"var mapStyle = new google.maps.StyledMapType([....])\\nmap.mapTypes.set('lightDream', mapStyle);\\nmap.setMapTypeId('lightDream');\\n\")), mdx(\"h3\", null, \"\\u904D\\u5386\\u6DFB\\u52A0 event listener \\u540C\\u65F6\\u53C8\\u9700\\u8981\\u4F20\\u53C2\\u6570\\u7ED9 \", mdx(\"inlineCode\", {\n    \"parentName\": \"h3\"\n  }, \"google.maps.event.addListener()\"), \" \\u7684\\u56DE\\u8C03\\u51FD\\u6570\"), mdx(\"p\", null, \"\\u4E0D\\u592A\\u7406\\u89E3 event.addListener \\u7684\\u5DE5\\u4F5C\\u539F\\u7406\\uFF0C\\u4F46\\u6839\\u636E\\u6211\\u8E29\\u7684\\u5751\\u63A8\\u6D4B\\u8FD9\\u662F\\u4E00\\u4E2A\\u5F02\\u6B65\\u7684\\u65B9\\u6CD5\\uFF08\\u5426\\u5219\\u4E3A\\u4EC0\\u4E48\\u6709\\u56DE\\u8C03\\u51FD\\u6570\\uFF1F\\uFF01\\uFF09\"), mdx(\"p\", null, \"\\u8FD9\\u4E2A\\u65F6\\u5019\\u5C31\\u8981\\u7528\\u5230\\u9AD8\\u5927\\u4E0A\\u7684\", mdx(\"strong\", {\n    \"parentName\": \"p\"\n  }, \"\\u95ED\\u5305\"), \"\\u3002\\u4E0B\\u9762\\u8FD9\\u4E2A\\u4F8B\\u5B50\\u4E2D\\uFF0C\\u5982\\u679C\\u4E0D\\u628A\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"addListener\"), \"\\u5305\\u8D77\\u6765\\uFF0C\\u6BCF\\u6B21 cityHandler \\u6536\\u5230\\u7684 city \\u90FD\\u662F\\u904D\\u5386\\u7684\\u6700\\u540E\\u4E00\\u4E2A city\\u3002\\u56E0\\u4E3A\\u904D\\u5386\\u901F\\u5EA6\\u592A\\u5FEB\\uFF0C\\u800C\\u56DE\\u8C03\\u8FD8\\u6CA1\\u6709\\u6267\\u884C\\uFF0C\\u7B49\\u56DE\\u8C03\\u6267\\u884C\\u7684\\u65F6\\u5019 city \\u5DF2\\u7ECF\\u904D\\u5386\\u5230\\u6700\\u540E\\u4E00\\u4E2A\\u4E86\\u2026\"), mdx(\"p\", null, \"\\u4E0D\\u7528\\u95ED\\u5305\\u7684\\u8BDD\\uFF0C\\u7528 promise \\u5E94\\u8BE5\\u4E5F\\u80FD\\u89E3\\u51B3\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u4F46\\u662F\\u611F\\u89C9 promise \\u9700\\u8981\\u5199\\u7684 code \\u4F1A\\u6BD4\\u8F83\\u591A\\u4E00\\u4E9B\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    \"className\": \"language-js\",\n    \"parentName\": \"pre\"\n  }, \"var cityList=[{marker:googleMapMarker,city:'Beijing'},...];\\ncityList.forEach(function(item){\\n  (function (marker, city) {\\n    google.maps.event.addListener(marker, 'click', function (e) {\\n      cityHandler(city);\\n    });\\n  })(item.marker, item.city)\\n})\\n\")), mdx(\"h3\", null, \"\\u539F\\u751F marker \\u56FE\\u6807\"), mdx(\"p\", null, mdx(\"a\", {\n    \"href\": \"http://mabp.kiev.ua/2010/01/12/google-map-markers/\",\n    \"parentName\": \"p\"\n  }, \"http://mabp.kiev.ua/2010/01/12/google-map-markers/\")), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"strong\", {\n    \"parentName\": \"p\"\n  }, \"Reference:\"), \"\\n\", mdx(\"a\", {\n    \"href\": \"https://developers.google.com/maps/documentation/javascript/reference\",\n    \"parentName\": \"p\"\n  }, \"https://developers.google.com/maps/documentation/javascript/reference\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"一直都想把自己去过的地方做个地图标记，然而现在能找到的各种现成的地图产品都不太喜欢，所以就用谷歌地图自己写了一个。\n总结以下常见的问题和坑： 自动缩放(auto zoom…","fields":{"slug":"/2016/02/03/experiencing-google-map-js-api/"},"frontmatter":{"date":"2016-02-03T10:32:51.000Z","title":"谷歌地图 Google Map API 初体验","tags":["Google Map","Google Map API","谷歌地图API","谷歌地图"],"category":null},"tableOfContents":{"items":[{"url":"#自动缩放auto-zoom","title":"自动缩放(auto zoom)"},{"url":"#动画效果切换","title":"动画效果切换"},{"url":"#自定义地图样式","title":"自定义地图样式"},{"url":"#遍历添加-event-listener-同时又需要传参数给-googlemapseventaddlistener-的回调函数","title":"遍历添加 event listener 同时又需要传参数给 google.maps.event.addListener() 的回调函数"},{"url":"#原生-marker-图标","title":"原生 marker 图标"}]},"timeToRead":1}},"pageContext":{"postID":"e0a58826-7d7e-5fa4-95f7-67d4d71641b5","numericId":21,"prevPost":{"slug":"/2016/02/01/git-how-to-ignore-tracked-files/","title":"git如何ignore已经track的文件"},"nextPost":{"slug":"/2016/02/17/using-jQuery-to-handle-CORS-with-jsonp/","title":"jQuery中利用JSONP进行跨域GET请求"},"permalink":"https://hiitea.io/tech/2016/02/03/experiencing-google-map-js-api/"}},"staticQueryHashes":["2873555300","67573329","822196256"]}