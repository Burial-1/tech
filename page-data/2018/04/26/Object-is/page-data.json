{"componentChunkName":"component---node-modules-gatsby-theme-replica-src-templates-post-tsx","path":"/2018/04/26/Object-is/","result":{"data":{"post":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Object.is()\",\n  \"date\": \"2018-04-26T04:25:15.000Z\",\n  \"tags\": [\"ES6\", \"Object\", \"Jest\", \"infinity\"],\n  \"category\": \"ES6\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u524D\\u51E0\\u5929\\u5199\\u6D4B\\u8BD5\\u7684\\u65F6\\u5019\\uFF0C\\u6709\\u4E2A\\u5730\\u65B9\\u9700\\u8981\\u68C0\\u67E5 Object \\u7684 reference \\u662F\\u5426\\u6539\\u53D8\\uFF0Cjest \\u4E2D\\u7684\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"toEqual(value)\"), \"\\u662F deep compare\\uFF0C\\u4E0D\\u9002\\u7528\\u4E8E reference\\uFF0C\\u4E8E\\u662F\\u67E5\\u770B\\u4E86\\u4E00\\u4E0B\\u5E94\\u8BE5\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"toBe(value)\"), \"\\u3002\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    \"parentName\": \"blockquote\"\n  }, mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"toBe\"), \" just checks that a value is what you expect. It uses \", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Object.is\"), \" to check exact equality.\", mdx(\"sup\", {\n    \"id\": \"fnref-1\",\n    \"parentName\": \"p\"\n  }, mdx(\"a\", {\n    \"href\": \"#fn-1\",\n    \"className\": \"footnote-ref\",\n    \"parentName\": \"sup\"\n  }, \"1\")))), mdx(\"p\", null, \"\\u4EE5\\u524D\\u6CA1\\u89C1\\u8FC7\\u4E5F\\u6CA1\\u7528\\u8FC7\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Object.is\"), \"\\uFF0C\\u67E5\\u4E86\\u4E00\\u4E0B\\u53D1\\u73B0\\u662F ES6 \\u7684\\u65B0\\u8BED\\u6CD5\", mdx(\"sup\", {\n    \"id\": \"fnref-2\",\n    \"parentName\": \"p\"\n  }, mdx(\"a\", {\n    \"href\": \"#fn-2\",\n    \"className\": \"footnote-ref\",\n    \"parentName\": \"sup\"\n  }, \"2\"))), mdx(\"h3\", null, mdx(\"inlineCode\", {\n    \"parentName\": \"h3\"\n  }, \"Object.is(val1, val2)\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Object.is\"), \"\\u65B9\\u6CD5\\u7528\\u4E8E\\u6BD4\\u8F83\\u4E24\\u4E2A\\u5BF9\\u8C61\\u662F\\u5426\\u76F8\\u540C\\uFF0C\\u4E0E\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"==\"), \"\\u548C\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"===\"), \"\\u662F\\u6709\\u4E00\\u5B9A\\u533A\\u522B\\u7684\"), mdx(\"p\", null, \"\\u5728\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"==\"), \"\\u65F6\\uFF0C\\u5982\\u679C\\u7B49\\u53F7\\u4E24\\u8FB9\\u7C7B\\u578B\\u4E0D\\u540C\\uFF0Cjs \\u4F1A\\u5148\\u8FDB\\u884C\\u7C7B\\u578B\\u8F6C\\u6362\\uFF0C\\u518D\\u8FDB\\u884C\\u503C\\u7684\\u6BD4\\u8F83\\u3002\\n\\u800C\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"===\"), \"\\u65F6\\uFF0C\\u53EA\\u8981\\u7C7B\\u578B\\u4E0D\\u540C\\u5C31\\u4E3A false\\n\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Object.is\"), \"\\u5728\\u5927\\u591A\\u6570\\u60C5\\u51B5\\u4E0B\\u53EF\\u4EE5\\u7B49\\u540C\\u4E8E\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"===\"), \"\\uFF0C\\u4F46\\u6709\\u4E24\\u79CD\\u60C5\\u51B5\\u9664\\u5916\"), mdx(\"ul\", null, mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"+0\"), \" / \", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"-0\"), mdx(\"ul\", {\n    \"parentName\": \"li\"\n  }, mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"===\"), \" \\u65E0\\u6CD5\\u533A\\u5206 \", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"+0\"), \"\\u548C\", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"-0\")), mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"Object.is(+0, -0)\"), \" \\u8FD4\\u56DE\", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"false\"), \" \\u53EF\\u4EE5\\u533A\\u5206\"))), mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"NaN\"), mdx(\"ul\", {\n    \"parentName\": \"li\"\n  }, mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"\\u65E0\\u6CD5\\u7528\", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"===\"), \"\\u6765\\u8FDB\\u884C\\u68C0\\u67E5\\uFF0C\\u9700\\u8981\\u4F7F\\u7528\", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"isNaN()\"), \"\\u65B9\\u6CD5\"), mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, \"\\u4F46\\u73B0\\u5728\\u4E5F\\u53EF\\u4EE5\\u7528\", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"Object.is(NaN, NaN)\"), \"\\u6765\\u68C0\\u67E5\")))), mdx(\"h3\", null, \"Magic JS\"), mdx(\"p\", null, \"\\u539F\\u6765\\u9664\\u4E86\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"0.1+0.2=0.00000000000034\"), \"\\u8FD9\\u6837\\u7684\\uFF0C\\u8FD8\\u6709\\u5176\\u4ED6\\u641E\\u7B11\\u7684\\u4E8B\\u60C5\\u5B58\\u5728\\uFF0C\\u53EF\\u80FD\\u8FD9\\u5C31\\u662F that's why I love js\\uFF1F\\u5199\\u7684\\u4E0D\\u597D\\u7684\\u65F6\\u5019\\u5C31\\u53EF\\u4EE5 blame \\u662F JS \\u8FA3\\u9E21\\u7684\\u539F\\u56E0\\uFF0C\\u54C8\\u54C8\"), mdx(\"pre\", null, mdx(\"code\", {\n    \"className\": \"language-js\",\n    \"parentName\": \"pre\"\n  }, \"1 === 1;\\n// true\\n+0 === -0;\\n// true\\n1 / +0 === 1 / -0;\\n// false\\n\")), mdx(\"h3\", null, \"Infinity \", mdx(\"sup\", {\n    \"id\": \"fnref-4\",\n    \"parentName\": \"h3\"\n  }, mdx(\"a\", {\n    \"href\": \"#fn-4\",\n    \"className\": \"footnote-ref\",\n    \"parentName\": \"sup\"\n  }, \"4\"))), mdx(\"p\", null, mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Infinity\"), \"\\u662F\\u6BD4\\u4EFB\\u4F55\\u6570\\u90FD\\u5927\\u7684\", mdx(\"strong\", {\n    \"parentName\": \"p\"\n  }, \"\\u6570\"), \"\\uFF0C \\u5728\\u8FD0\\u7B97\\u4E0A\\u4E0E\\u6570\\u5B66\\u4E0A\\u7684 Inf \\u4E00\\u6837\\n\\u9700\\u8981\\u6CE8\\u610F\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"Infinity / Infinity\"), \" -> \", mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"NaN\")), mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"Number.POSITIVE_INFINITY\")), mdx(\"li\", {\n    \"parentName\": \"ul\"\n  }, mdx(\"inlineCode\", {\n    \"parentName\": \"li\"\n  }, \"Number.NEGATIVE_INFINITY\"))), mdx(\"h3\", null, \"Number.MAX_SAFE_INTEGER \", mdx(\"sup\", {\n    \"id\": \"fnref-5\",\n    \"parentName\": \"h3\"\n  }, mdx(\"a\", {\n    \"href\": \"#fn-5\",\n    \"className\": \"footnote-ref\",\n    \"parentName\": \"sup\"\n  }, \"5\"))), mdx(\"p\", null, \"\\u672C\\u6765\\u53EA\\u662F\\u60F3\\u7814\\u7A76\\u4E00\\u4E0B\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Object.is\"), \"\\u7684\\uFF0C\\u6CA1\\u60F3\\u5230\\u987A\\u5E26\\u5C31\\u53C8\\u5F15\\u7533\\u51FA\\u4E86\\u8FD9\\u4E48\\u591A\\u5176\\u4ED6\\u7684\\u4E1C\\u897F\\u2026\\u4E0A\\u9762\\u63D0\\u5230\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Infinity\"), \"\\uFF0C\\u5F88\\u5BB9\\u6613\\u8054\\u60F3\\u5230\\u90A3\\u4E48 JS \\u4E2D\\u6700\\u5927\\u7684\\u6570\\u662F\\u591A\\u5927\\u5462\\nJS \\u4E2D\\u6709\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Number.MAX_SAFE_INTEGER\"), \"\\uFF0C\\u5176\\u503C\\u4E3A\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"2^53 - 1\"), \"\\uFF0C\\u5BF9\\u5E94\\u7684\\u6700\\u5C0F\\u6570\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"Number.MIN_SAFE_INTEGER\"), \"\\uFF0C\\u5176\\u503C\\u4E3A\", mdx(\"inlineCode\", {\n    \"parentName\": \"p\"\n  }, \"-(2^53 - 1)\"), \" \\u53EA\\u6709\\u5728\\u8FD9\\u4E2A\\u8303\\u56F4\\u5185\\u7684\\u6570\\u624D\\u80FD\\u4FDD\\u8BC1\\u4E00\\u5B9A\\u662F\\u6B63\\u786E\\u7684\\u3002\"), mdx(\"p\", null, \"\\u8D85\\u51FA\\u8303\\u56F4\\u7684\\u6570\\u53EF\\u80FD\\u7531\\u4E8E\\u7CBE\\u5EA6\\u4E22\\u5931\\u8FD8\\u662F\\u4EC0\\u4E48\\u522B\\u7684\\u539F\\u56E0\\uFF0C\\u4E0D\\u4E00\\u5B9A\\u6B63\\u786E\\uFF0C\\u5178\\u578B\\u7684\\u4F8B\\u5B50\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", {\n    \"className\": \"language-js\",\n    \"parentName\": \"pre\"\n  }, \"Number.MAX_SAFE_INTEGER + 1 === Number.MAX_SAFE_INTEGER + 2; // true\\n\")), mdx(\"p\", null, \"\\uD83D\\uDE44\"), mdx(\"div\", {\n    \"className\": \"footnotes\"\n  }, mdx(\"hr\", {\n    \"parentName\": \"div\"\n  }), mdx(\"ol\", {\n    \"parentName\": \"div\"\n  }, mdx(\"li\", {\n    \"id\": \"fn-1\",\n    \"parentName\": \"ol\"\n  }, mdx(\"a\", {\n    \"href\": \"https://facebook.github.io/jest/docs/en/expect.html#tobevalue\",\n    \"parentName\": \"li\"\n  }, \"https://facebook.github.io/jest/docs/en/expect.html#tobevalue\"), mdx(\"a\", {\n    \"href\": \"#fnref-1\",\n    \"className\": \"footnote-backref\",\n    \"parentName\": \"li\"\n  }, \"\\u21A9\")), mdx(\"li\", {\n    \"id\": \"fn-2\",\n    \"parentName\": \"ol\"\n  }, mdx(\"a\", {\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\",\n    \"parentName\": \"li\"\n  }, \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\"), mdx(\"a\", {\n    \"href\": \"#fnref-2\",\n    \"className\": \"footnote-backref\",\n    \"parentName\": \"li\"\n  }, \"\\u21A9\")), mdx(\"li\", {\n    \"id\": \"fn-4\",\n    \"parentName\": \"ol\"\n  }, mdx(\"a\", {\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity\",\n    \"parentName\": \"li\"\n  }, \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity\"), mdx(\"a\", {\n    \"href\": \"#fnref-4\",\n    \"className\": \"footnote-backref\",\n    \"parentName\": \"li\"\n  }, \"\\u21A9\")), mdx(\"li\", {\n    \"id\": \"fn-5\",\n    \"parentName\": \"ol\"\n  }, mdx(\"a\", {\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER\",\n    \"parentName\": \"li\"\n  }, \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER\"), mdx(\"a\", {\n    \"href\": \"#fnref-5\",\n    \"className\": \"footnote-backref\",\n    \"parentName\": \"li\"\n  }, \"\\u21A9\")))));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"前几天写测试的时候，有个地方需要检查 Object 的 reference 是否改变，jest 中的 toEqual(value) 是 deep compare，不适用于 reference…","fields":{"slug":"/2018/04/26/Object-is/"},"frontmatter":{"date":"2018-04-26T04:25:15.000Z","title":"Object.is()","tags":["ES6","Object","Jest","infinity"],"category":"ES6"},"tableOfContents":{"items":[{"url":"#objectisval1-val2","title":"Object.is(val1, val2)"},{"url":"#magic-js","title":"Magic JS"},{"url":"#infinity","title":"Infinity "},{"url":"#numbermax_safe_integer","title":"Number.MAX_SAFE_INTEGER "}]},"timeToRead":1}},"pageContext":{"postID":"013dcd1e-4085-58ba-b77e-a6989a7b148f","numericId":47,"prevPost":{"slug":"/2018/03/27/global-gitignore/","title":"global .gitignore"},"nextPost":{"slug":"/2018/05/15/npm-local-pacakge-as-dependency/","title":"开发时如何使用本地npm包作为依赖"},"permalink":"https://hiitea.io/tech/2018/04/26/Object-is/"}},"staticQueryHashes":["2873555300","67573329","822196256"]}